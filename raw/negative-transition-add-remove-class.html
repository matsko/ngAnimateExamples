<!DOCTYPE html>
<html>
<head>
<style>
.box {
  width:400px;
  height:400px;
  border:10px solid black;
  background:green;
  transition:2s linear all;
}
.red { background:red; }
.blue { background:blue; }
</style>
</head>
<body>
  <button id="blue">Add Blue</button>
  <button id="red">Add Red</button>

  <div class="box">
  </div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
<script>
$(function() {
  var box = $('.box');
  ['red', 'blue'].forEach(function(color) {
    $('#' + color).on('click', function() {
      var className = color;
      box.toggleClass(className);
      box.css('transition-delay', '-9999s');
      window.requestAnimationFrame(function() {
        box.css('transition-delay', '');
      });
    });
  });
});
</script>
</body>
</html>
